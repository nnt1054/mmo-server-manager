{"version":3,"sources":["../../mini5-engine/build/index.js","ui/logo.svg","../../mini5-engine/build/engine.js","../../mini5-engine/build/scene.js","../../mini5-engine/build/gameObject.js","store/reducers/counterSlice.js","store/reducers/playerStateSlice.js","ui/App.js","store/store.js","game/gameObjects/backgroundObject.js","game/gameObjects/blockObject.js","game/gameObjects/playerObject.js","game/gameObjects/otherPlayerObject.js","game/gameObjects/bouncingBallObject.js","game/gameObjects/portalObject.js","game/gameObjects/playerManager.js","game/scenes/index.js","game/scenes/testScene.js","game/scenes/area01Scene.js","game/scenes/area02Scene.js","game/scenes/area03Scene.js","game/main.js","index.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_engine","_scene","_gameObject","_interopRequireDefault","require","obj","__esModule","module","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","configurable","writable","key","MainLoop","_default","engine","sceneList","arguments","undefined","initScene","args","io","this","server","window","createCanvas","currentScene","nextScene","update","bind","draw","begin","end","protoProps","staticProps","canvas","document","getElementById","context","getContext","fpsCounter","fpsValue","width","height","mouseEvents","addEventListener","event","x","offsetLeft","y","offsetTop","mousePos","preventDefault","keyState","keyPress","keyUpdateCounter","keyCode","scene","delta","interpolationPercentage","clearRect","fps","panic","setUpdate","setBegin","setEnd","start","setDraw","socket","updateSocket","username","connectPlayer","prototype","gameObjects","layerOrder","layers","intervals","gameState","setup","clearInterval","switchScene","curLayer","j","_createClass","gameObject","parent","_isClicked","console","log","AABB","aabb","_isClickTarget","clickTarget","pointInAABB","clickOffsetLeft","getMousePos","clickAABB","min","clickOffsetTop","point","max","lastPos","anchor","anchorPos","anchorees","foundCollisions","updateAnchorees","canvasPos","push","pos","setAnchorPos","aabbList","collisions","checkCollision","counterSlice","createSlice","name","initialState","reducers","increment","state","decrement","incrementByAmount","action","payload","actions","selectCount","counter","playerStateSlice","status","position","setPlayerState","setPlayerPosition","getPlayerState","playerState","getPlayerPosition","Counter","count","useSelector","dispatch","useDispatch","aria-label","onClick","PlayerStateUI","playerPosition","App","className","Component","configureStore","reducer","counterReducer","playerStateReducer","backgroundObject","fillStyle","fillRect","GameObject","blockObject","createAABB","color","playerObject","xVel","yVel","gravity","jump","jumpTimer","colors","newCount","handleCountListener","handleCountUpdate","countUnsubscribe","store","subscribe","inputState","xState","yState","sendUpdate","getState","yDisp","xDisp","prev_xState","timer","Math","pow","setPos","checkCollisions","staticObjects","handleCollision","portalObjects","round","emit","handleYCollision","handleXCollision","ifTopCollision","ifLeftCollision","textAlign","font","fillText","otherPlayerObject","connected","bouncingBallObject","posAABB","radius","speed","velocity","direction","lastUpdate","circle","beginPath","arc","PI","fill","lineWidth","stroke","playerManagerObject","connectedPlayers","background","ground","floating","ball","player","playerManager","on","data","Scene","game","Engine","SceneList","prompt","a","fetch","response","json","pathname","origin","path","query","Game","addSocket","setup_websocket","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cfdf6c3b.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Engine\", {\n  enumerable: true,\n  get: function get() {\n    return _engine[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Scene\", {\n  enumerable: true,\n  get: function get() {\n    return _scene[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"GameObject\", {\n  enumerable: true,\n  get: function get() {\n    return _gameObject[\"default\"];\n  }\n});\n\nvar _engine = _interopRequireDefault(require(\"./engine.js\"));\n\nvar _scene = _interopRequireDefault(require(\"./scene.js\"));\n\nvar _gameObject = _interopRequireDefault(require(\"./gameObject\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MainLoop = require('mainloop.js');\n\nvar engine = /*#__PURE__*/function () {\n  function engine() {\n    var sceneList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var initScene = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var io = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, engine);\n\n    // if server, set engine.io as socket server\n    this.io = io;\n\n    if (this.io) {\n      this.server = true;\n    } else {\n      this.server = false;\n    }\n\n    if (!this.server) {\n      window.engine = this; //might want to change this later\n\n      this.createCanvas();\n    }\n\n    this.sceneList = sceneList;\n    this.currentScene = new this.sceneList[initScene](this, args);\n    this.nextScene = null;\n    this.update = this.update.bind(this);\n    this.draw = this.draw.bind(this);\n    this.begin = this.begin.bind(this);\n    this.end = this.end.bind(this);\n  }\n\n  _createClass(engine, [{\n    key: \"createCanvas\",\n    value: function createCanvas() {\n      // create Canvas and Initial Game Objects \n      this.canvas = document.getElementById('canvas'), this.context = this.canvas.getContext('2d'), this.fpsCounter = document.getElementById('fpscounter'), this.fpsValue = document.getElementById('fpsvalue'); // this.canvas.width = window.innerWidth;\n      // this.canvas.height = window.innerHeight;\n\n      this.canvas.width = 800;\n      this.canvas.height = 400; // MOUSE INPUT PROCESSOR\n\n      this.mouseEvents = {};\n      this.canvas.addEventListener('click', function (event) {\n        window.engine.mouseEvents['click'] = {\n          'x': event.x - event.target.offsetLeft,\n          'y': event.y - event.target.offsetTop\n        };\n      }, false);\n      this.canvas.addEventListener('dblclick', function (event) {\n        window.engine.mouseEvents['dblclick'] = {\n          'x': event.x - event.target.offsetLeft,\n          'y': event.y - event.target.offsetTop\n        };\n      }, false);\n      this.canvas.addEventListener('mousemove', function (event) {\n        window.engine.mouseEvents['mousemove'] = {\n          'x': event.x - event.target.offsetLeft,\n          'y': event.y - event.target.offsetTop\n        };\n        window.engine.mousePos = window.engine.mouseEvents['mousemove'];\n      }, false);\n      this.canvas.addEventListener('mousedown', function (event) {\n        window.engine.mouseEvents['mousedown'] = {\n          'x': event.x - event.target.offsetLeft,\n          'y': event.y - event.target.offsetTop\n        };\n      }, false);\n      this.canvas.addEventListener(\"contextmenu\", function (event) {\n        event.preventDefault();\n      }, false);\n      document.addEventListener('mouseup', function (event) {\n        window.engine.mouseEvents['mouseup'] = {\n          'x': event.x - event.target.offsetLeft,\n          'y': event.y - event.target.offsetTop\n        };\n      }, false); // KEYBOARD INPUT PROCESSOR\n\n      this.keyState = {};\n      this.keyPress = {};\n      this.keyUpdateCounter = 0;\n      document.addEventListener(\"keydown\", function (event) {\n        if (!(event.keyCode in window.engine.keyState)) {\n          window.engine.keyState[event.keyCode] = 0;\n        }\n\n        window.engine.keyUpdateCounter = 0;\n      });\n      document.addEventListener(\"keyup\", function (event) {\n        window.engine.keyPress[event.keyCode] = window.engine.keyState[event.keyCode]; // console.log(event.keyCode + ': ' + Math.round(window.engine.keyPress[event.keyCode]));\n\n        delete window.engine.keyState[event.keyCode];\n      });\n    }\n  }, {\n    key: \"switchScene\",\n    value: function switchScene(scene, args) {\n      this.nextScene = new this.sceneList[scene](this, args);\n    }\n  }, {\n    key: \"update\",\n    value: function update(delta) {\n      // // 1. Failsafe for hanging keyStates\n      // var idle = true;\n      // for (var key in this.keyState) {\n      // \tthis.keyState[key] += delta;\n      //   \t\tidle = false;\n      // }\n      //    if (!idle) {\n      //    \tthis.keyUpdateCounter += 1;\n      //    }\n      // if (this.keyUpdateCounter > 60) {\n      //     console.log('keyhold interrupted');\n      //     this.keyUpdateCounter = 0;\n      // \tthis.keyState = {};\n      // }\n      // 1.5. initialize gameStateUpdate\n      // this.gameStateUpdate = {};\n      // 2. Update Game Objects\n      if (this.currentScene) {\n        this.currentScene.update(delta);\n      } // 2.5. Send update packet to clients\n      // socket.broadcast.emit(this.gameStateUpdate);\n      // 3. Check Physics Collisions\n      // 4. Reset mouseEvent and keyPress Dictionaries (if client)\n\n\n      this.mouseEvents = {};\n      this.keyPress = {};\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(interpolationPercentage) {\n      if (this.currentScene) {\n        this.context.clearRect(0, 0, canvas.width, canvas.height);\n        this.currentScene.draw(interpolationPercentage);\n      }\n    }\n  }, {\n    key: \"begin\",\n    value: function begin() {// check and process input\n    }\n  }, {\n    key: \"end\",\n    value: function end(fps, panic) {\n      // check for scene transition\n      if (this.nextScene) {\n        this.currentScene = this.nextScene;\n        this.nextScene = null;\n      } // calculate fps\n      // this.fpsCounter.textContent = Math.round(fps) + ' FPS';\n      // if (panic) {\n      //     var discardedTime = Math.round(MainLoop.resetFrameDelta());\n      //     console.warn('Main loop panicked, probably because the browser tab was put in the background. Discarding ' + discardedTime + 'ms');\n      // }\n\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (this.server) {\n        MainLoop.setUpdate(this.update).setBegin(this.begin).setEnd(this.end).start();\n      } else {\n        MainLoop.setUpdate(this.update).setDraw(this.draw).setBegin(this.begin).setEnd(this.end).start();\n      }\n    }\n  }, {\n    key: \"addSocket\",\n    value: function addSocket(socket) {\n      this.socket = socket;\n      this.currentScene.updateSocket();\n    }\n  }, {\n    key: \"connectPlayer\",\n    value: function connectPlayer(socket, username) {\n      this.currentScene.connectPlayer(socket, username);\n    }\n  }]);\n\n  return engine;\n}();\n\nvar _default = engine; // try {\n// \tmodule.exports = engine;\n// } catch (err) {\n// \tconsole.log('engine export failed// }');\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar scene = /*#__PURE__*/function () {\n  function scene(engine) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, scene);\n\n    this.engine = engine;\n    this.canvas = this.engine.canvas;\n    this.gameObjects = [];\n    this.layerOrder = [];\n    this.layers = {};\n    this.intervals = [];\n    this.gameState = {};\n    this.setup(args); // this.update = this.update.bind(this);\n    // this.draw = this.draw.bind(this);\n  }\n\n  _createClass(scene, [{\n    key: \"setup\",\n    value: function setup(args) {// instantiate game objects here and connect their object references\n      // this method is meant to be overridden, it's literally the only thing that needs to change besides like name\n    }\n  }, {\n    key: \"switchScene\",\n    value: function switchScene(scene, args) {\n      for (var i = 0; i < this.intervals.length; i++) {\n        clearInterval(this.intervals[i]);\n      }\n\n      this.engine.switchScene(scene, args);\n    }\n  }, {\n    key: \"update\",\n    value: function update(delta) {\n      for (var i = 0; i < this.gameObjects.length; i++) {\n        this.gameObjects[i].update(delta);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(interpolationPercentage) {\n      var curLayer;\n\n      for (var i = 0; i < this.layerOrder.length; i++) {\n        curLayer = this.layers[this.layerOrder[i]];\n\n        for (var j = 0; j < curLayer.length; j++) {\n          curLayer[j].draw(interpolationPercentage);\n        }\n      }\n    }\n  }, {\n    key: \"updateSocket\",\n    value: function updateSocket() {// overwrite with socket messaging processing here\n    }\n  }, {\n    key: \"connectPlayer\",\n    value: function connectPlayer(socket, username) {// overwrite with connect player logic here\n    }\n  }]);\n\n  return scene;\n}();\n\nvar _default = scene; // try {\n// \tmodule.exports = scene;\n// } catch (err) {\n// \tconsole.log('scene export failed');\n// }\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar gameObject = /*#__PURE__*/function () {\n  function gameObject(scene) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, gameObject);\n\n    this.scene = scene; // need this for object hiearchy\n\n    if (parent) {\n      this.parent = parent;\n    } else {\n      this.parent = scene;\n    }\n\n    this.update = this.update.bind(this);\n    this.draw = this.draw.bind(this);\n    this._isClicked = false;\n  }\n\n  _createClass(gameObject, [{\n    key: \"update\",\n    value: function update(delta) {\n      console.log('update should be overridden');\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(interpolationPercentage) {\n      console.log('update should be overridden');\n    }\n  }, {\n    key: \"createAABB\",\n    value: function createAABB(width, height) {\n      var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var parent = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      return new AABB(width, height, x, y, parent);\n    }\n  }, {\n    key: \"allowClickDetection\",\n    value: function allowClickDetection(aabb) {\n      this._isClicked = false;\n      this._isClickTarget = this.scene.clickTarget === this;\n\n      if ('mousedown' in this.scene.engine.mouseEvents) {\n        if (this.pointInAABB(this.scene.engine.mouseEvents['mousedown'], aabb)) {\n          this.scene.clickTarget = this;\n          this.clickOffsetLeft = this.getMousePos().x - this.clickAABB.min.x;\n          this.clickOffsetTop = this.getMousePos().y - this.clickAABB.min.y;\n        }\n      }\n\n      if ('mouseup' in this.scene.engine.mouseEvents) {\n        if (this.scene.clickTarget === this) {\n          if (this.pointInAABB(this.scene.engine.mouseEvents['mouseup'], aabb)) {\n            this._isClicked = true;\n          }\n\n          this.scene.clickTarget = null;\n        }\n      }\n    }\n  }, {\n    key: \"isClicked\",\n    value: function isClicked() {\n      return this._isClicked;\n    }\n  }, {\n    key: \"isClickTarget\",\n    value: function isClickTarget() {\n      return this._isClickTarget;\n    }\n  }, {\n    key: \"getMousePos\",\n    value: function getMousePos() {\n      return this.scene.engine.mousePos;\n    }\n  }, {\n    key: \"pointInAABB\",\n    value: function pointInAABB(point, aabb) {\n      return point.x > aabb.min.x && point.x < aabb.max.x && point.y > aabb.min.y && point.y < aabb.max.y;\n    }\n  }]);\n\n  return gameObject;\n}();\n\nvar AABB = /*#__PURE__*/function () {\n  function AABB(width, height) {\n    var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var parent = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    _classCallCheck(this, AABB);\n\n    this.parent = parent;\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.lastPos = {\n      'x': x,\n      'y': y\n    };\n    this.anchor = null;\n    this.anchorPos = {\n      'x': 0,\n      'y': 0\n    };\n    this.anchorees = [];\n    this.foundCollisions = [];\n  }\n\n  _createClass(AABB, [{\n    key: \"setPos\",\n    value: function setPos() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (x) {\n        this.lastPos.x = this.x;\n        this.x = x;\n      }\n\n      if (y) {\n        this.lastPos.y = this.y;\n        this.y = y;\n      }\n\n      this.updateAnchorees();\n    } // Called once at the beginning;\n\n  }, {\n    key: \"setAnchor\",\n    value: function setAnchor(aabb) {\n      this.anchor = aabb;\n      this.anchorPos = aabb.canvasPos;\n      aabb.anchorees.push(this);\n    }\n  }, {\n    key: \"setAnchorPos\",\n    value: function setAnchorPos(pos) {\n      this.anchorPos = pos;\n      this.updateAnchorees();\n    }\n  }, {\n    key: \"updateAnchorees\",\n    value: function updateAnchorees() {\n      // if anchor position changed, update positions of anchorees\n      for (var i = 0; i < this.anchorees.length; i++) {\n        this.anchorees[i].setAnchorPos(this.canvasPos);\n      }\n    }\n  }, {\n    key: \"checkCollision\",\n    value: function checkCollision(aabb) {\n      if (this.max.x <= aabb.min.x || this.min.x >= aabb.max.x) {\n        return false;\n      } else if (this.max.y <= aabb.min.y || this.min.y >= aabb.max.y) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"checkCollisions\",\n    value: function checkCollisions(aabbList) {\n      var collisions = [];\n\n      for (var i = 0; i < aabbList.length; i++) {\n        if (aabbList[i] == this) {\n          continue;\n        }\n\n        if (this.checkCollision(aabbList[i])) {\n          collisions.push(aabbList[i]);\n        }\n      }\n\n      return collisions;\n    } // Following Functions Assume Collision Exists with AABB\n\n  }, {\n    key: \"ifLeftCollision\",\n    value: function ifLeftCollision(aabb) {\n      return this.max.x > aabb.max.x;\n    }\n  }, {\n    key: \"ifLeftCollisionOnly\",\n    value: function ifLeftCollisionOnly(aabb) {\n      return this.max.x > aabb.max.x && this.min.x > aabb.min.x;\n    }\n  }, {\n    key: \"ifRightCollision\",\n    value: function ifRightCollision(aabb) {\n      return this.min.x < aabb.min.x;\n    }\n  }, {\n    key: \"ifRightCollisionOnly\",\n    value: function ifRightCollisionOnly(aabb) {\n      return this.min.x < aabb.min.x && this.max.x < aabb.max.x;\n    }\n  }, {\n    key: \"ifTopCollision\",\n    value: function ifTopCollision(aabb) {\n      return this.max.y > aabb.max.y;\n    }\n  }, {\n    key: \"ifTopCollisionOnly\",\n    value: function ifTopCollisionOnly(aabb) {\n      return this.max.y > aabb.max.y && this.min.y > aabb.min.y;\n    }\n  }, {\n    key: \"ifBottomCollision\",\n    value: function ifBottomCollision(aabb) {\n      return this.min.y < aabb.min.y;\n    }\n  }, {\n    key: \"ifBottomCollisionOnly\",\n    value: function ifBottomCollisionOnly(aabb) {\n      return this.max.y < aabb.max.y && this.min.y < aabb.min.y;\n    }\n  }, {\n    key: \"min\",\n    get: function get() {\n      return {\n        'x': this.x,\n        'y': this.y\n      };\n    }\n  }, {\n    key: \"max\",\n    get: function get() {\n      return {\n        'x': this.x + this.width,\n        'y': this.y + this.height\n      };\n    }\n  }, {\n    key: \"canvasPos\",\n    get: function get() {\n      return {\n        'x': this.x + this.anchorPos.x,\n        'y': this.y + this.anchorPos.y\n      };\n    }\n  }]);\n\n  return AABB;\n}();\n\nvar _default = gameObject; // try {\n//   \tmodule.exports = gameObject;\n// } catch (err) {\n// \t  console.log('gameObject export failed');\n// }\n\nexports[\"default\"] = _default;","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0\r\n  },\r\n  reducers: {\r\n    increment: state => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1\r\n    },\r\n    decrement: state => {\r\n      state.value -= 1\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload\r\n    }\r\n  }\r\n})\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions\r\nexport const selectCount = state => state.counter.value;\r\n\r\nexport default counterSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const playerStateSlice = createSlice({\r\n  name: 'playerState',\r\n  initialState: {\r\n    status: 'idle',\r\n    position: [0, 0],\r\n    // x: 0,\r\n    // y: 0,\r\n  },\r\n  reducers: {\r\n    setPlayerState: (state, action) => {\r\n    \tstate.status = action.payload\r\n    },\r\n    setPlayerPosition: (state, action) => {\r\n    \tstate.position = action.payload\r\n    },\r\n  }\r\n})\r\n\r\nexport const { setPlayerState, setPlayerPosition } = playerStateSlice.actions;\r\nexport const getPlayerState = state => state.playerState.status;\r\nexport const getPlayerPosition = state => state.playerState.position;\r\n\r\nexport default playerStateSlice.reducer;","import React, { Component, useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  decrement,\n  increment,\n  selectCount,\n} from '../store/reducers/counterSlice';\nimport {\n  setPlayerState,\n  getPlayerState,\n  getPlayerPosition,\n} from '../store/reducers/playerStateSlice';\n\nfunction Counter() {\n  const count = useSelector(selectCount);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      <h1> count: { count } </h1>\n      <button\n        aria-label=\"Increment value\"\n        onClick={() => dispatch(increment())}\n      > + </button>\n    </div>\n  )\n}\n\nfunction PlayerStateUI() {\n  const playerState = useSelector(getPlayerState);\n  const playerPosition = useSelector(getPlayerPosition);\n\n  return (\n    <div>\n      <h1> status: { playerState } </h1>\n      <h1> x: { playerPosition[0] } y: { playerPosition[1] } </h1>\n    </div>\n  )\n\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <h1> hello! </h1>\n        <Counter />\n        <PlayerStateUI />\n      </div>\n    );\n  }\n}\n\nexport default App;","import { configureStore } from '@reduxjs/toolkit';\nimport counterReducer from './reducers/counterSlice';\nimport playerStateReducer from './reducers/playerStateSlice';\n\nexport default configureStore({\n  reducer: {\n    counter: counterReducer,\n    playerState: playerStateReducer,\n  },\n});","import { GameObject } from 'mini5-engine';\r\n\r\nclass backgroundObject extends GameObject {\r\n\r\n    constructor(scene) {\r\n        super(scene)\r\n\t\tthis.parent.gameState['backgroundObject01'] = {}\r\n        this.gameState = this.parent.gameState['backgroundObject01'];\r\n        this.gameState = {x: 0, y: 1};\r\n    }\r\n\r\n  \tupdate(delta) {\r\n  \t}\r\n\r\n  \tdraw(interpolationPercentage) {\r\n        this.scene.engine.context.fillStyle = 'lightgreen';\r\n        this.scene.engine.context.fillRect(0, 0, this.scene.engine.canvas.width, this.scene.engine.canvas.height);\r\n  \t}\r\n\r\n}\r\n\r\nexport default backgroundObject;","import { GameObject } from 'mini5-engine';\r\n\r\nclass blockObject extends GameObject {\r\n\r\n\tconstructor(scene, width, height, x, y) {\r\n\t    super(scene)\r\n      \tthis.scene = scene;\r\n  \t\tthis.update = this.update.bind(this);\r\n  \t\tthis.draw = this.draw.bind(this);\r\n  \t\tthis.AABB = this.createAABB(width, height, x, y)\r\n  \t\tthis.color = 'blue';\r\n\t}\r\n\r\n\tupdate(delta) {\r\n\t}\r\n\r\n\tdraw(interpolationPercentage) {\r\n        this.scene.engine.context.fillStyle = this.color;\r\n        this.scene.engine.context.fillRect(this.AABB.min.x, this.AABB.min.y, this.AABB.width, this.AABB.height);\r\n\t}\r\n\r\n}\r\n\r\nexport default blockObject;","import { GameObject } from 'mini5-engine';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { default as store } from '../../store/store'\r\nimport { \r\n\tsetPlayerState,\r\n\tsetPlayerPosition,\r\n} from '../../store/reducers/playerStateSlice'\r\nimport {\r\n\tselectCount,\r\n\tincrement,\r\n} from '../../store/reducers/counterSlice'\r\n\r\nclass playerObject extends GameObject {\r\n\r\n\tconstructor(scene) {\r\n\t    super(scene)\r\n      \tthis.scene = scene;\r\n  \t\tthis.update = this.update.bind(this);\r\n  \t\tthis.draw = this.draw.bind(this);\r\n\r\n  \t\tthis.x = 64;\r\n  \t\tthis.y = 0;\r\n\r\n  \t\tthis.xVel = 10;\r\n  \t\tthis.yVel = 0;\r\n  \t\tthis.gravity = 0.005;\r\n  \t\tthis.jump = -1.5;\r\n  \t\tthis.jumpTimer = 0;\r\n  \t\tthis.AABB = this.createAABB(64, 64, this.x, this.y)\r\n\r\n  \t\tthis.state = 'idle';\r\n  \t\tthis.colors = {\r\n  \t\t\t'jumping': 'red',\r\n  \t\t\t'walking': 'yellow',\r\n  \t\t\t'idle': 'blue',\r\n  \t\t}\r\n\r\n  \t\tthis.newCount = 0;\r\n  \t\tthis.count = 0;\r\n  \t\tconst handleCountListener = this.handleCountUpdate.bind(this);\r\n  \t\tthis.countUnsubscribe = store.subscribe(handleCountListener);\r\n\r\n  \t\tthis.inputState = {\r\n  \t\t\txState: 'idle',\r\n  \t\t\tyState: 'idle',\r\n  \t\t};\r\n  \t\tthis.sendUpdate = false;\r\n\t}\r\n\r\n\thandleCountUpdate() {\r\n\t\tthis.newCount = selectCount(store.getState());\r\n\t}\r\n\r\n\tupdate(delta) {\r\n\t\tvar w = 87,\r\n\t\t\ta = 65,\r\n\t\t\ts = 83,\r\n\t\t\td = 68,\r\n\t\t\tspace = 32,\r\n\t\t\txDisp = 0,\r\n\t\t\tyDisp = 0;\r\n\r\n\t\t// need to sync this.gameState = {\r\n\t\t// \tstate: 'jumping',\r\n\t\t// \tx: x,\r\n\t\t// \ty: y,\r\n\t\t// }\r\n\t\t// at what point do I uhhh uhhhhhhhhhhh\r\n\t\t// 1. detect client prediction new state based on input\r\n\t\t// 2. emit either input OR new game state? we can make an 'inputState' function\r\n\t\t\t// 2.1 what do i want to send to the server? the idea is to send input state that calculates the next state?\r\n\t\t\t// 2.2 uh send something along the lines of \"movingLeft\" or \"movingRight\", also \"jumping\"\r\n\t\t// 3. process server.gameState and double check if need to resync\r\n\t\t\t// 3.1 you can find this state in uh this.scene.gameState['playermanager'][this.scene.engine.username]\r\n\r\n\t\tvar prev_xState = this.inputState.xState;\r\n\t\t// Client Side Input Processing\r\n\t\tif (a in this.scene.engine.keyState && d in this.scene.engine.keyState) {\r\n\t\t\tthis.inputState.xState = 'idle';\r\n\t\t\txDisp = 0;\r\n\t\t} else if (a in this.scene.engine.keyState) {\r\n\t\t\tthis.inputState.xState = 'movingLeft';\r\n\t\t\txDisp = -this.xVel;\r\n\t\t} else if (d in this.scene.engine.keyState) {\r\n\t\t\tthis.inputState.xState = 'movingRight';\r\n\t\t\txDisp = this.xVel;\r\n\t\t} else {\r\n\t\t\tthis.inputState.xState = 'idle';\r\n\t\t}\r\n\t\tif (prev_xState != this.inputState.xState) {\r\n\t\t\tthis.sendUpdate = true;\r\n\t\t}\r\n\r\n\t\tif (space in this.scene.engine.keyState) {\r\n\t\t\tif (this.jumpTimer <= 0) {\r\n\t\t\t\tthis.sendUpdate = true;\r\n\t\t\t\tthis.inputState.yState = 'jumping';\r\n\t\t\t\tthis.yVel = this.jump;\r\n\t\t\t\tthis.jumpTimer = 1000;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.inputState.yState != 'idle') {\r\n\t\t\t\tthis.sendUpdate = true;\r\n\t\t\t}\r\n\t\t\tthis.inputState.yState = 'idle';\r\n\t\t}\r\n\r\n\t\tthis.timer += delta\r\n\t\tif (this.timer > 1000) {\r\n\t\t\tthis.timer = 0;\r\n\t\t\tconsole.log(delta, this.inputState);\r\n\t\t}\r\n\r\n\t\tthis.jumpTimer -= delta;\r\n\r\n\t\tif (this.yVel) {\r\n\t\t\tthis.state = 'jumping';\r\n\t\t} else if (xDisp) {\r\n\t\t\tthis.state = 'walking';\r\n\t\t} else {\r\n\t\t\tthis.state = 'idle';\r\n\t\t}\r\n\r\n\t\t// Resolve Physics Collisions\r\n\t\tthis.yVel += (this.gravity * delta);\r\n\t\tyDisp = (this.yVel * delta) + (this.gravity * Math.pow(delta, 2));\r\n\t\tthis.x += xDisp;\r\n\t\tthis.y += yDisp;\r\n\t\tthis.AABB.setPos(this.x, this.y);\r\n\t\tvar collisions = this.AABB.checkCollisions(this.scene.staticObjects);\r\n\t\tif (collisions.length > 0) {\r\n\t\t\tfor (var i = 0; i < collisions.length; i++) {\r\n\t\t\t\tvar aabb = collisions[i];\r\n\t\t\t\tthis.handleCollision(aabb, xDisp, yDisp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Resolve Portal Collisions\r\n\t\tvar collisions = this.AABB.checkCollisions(this.scene.portalObjects);\r\n\t\tif (collisions.length > 0) {\r\n\t\t\tfor (var i = 0; i < collisions.length; i++) {\r\n\t            this.scene.switchScene(collisions[i].parent.nextScene);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.count = this.newCount;\r\n\t\tstore.dispatch(setPlayerState(this.state));\r\n\t\tstore.dispatch(setPlayerPosition([ Math.round(this.x), Math.round(this.y)]));\r\n\t\tstore.dispatch(increment());\r\n\r\n\t\tif (this.sendUpdate) {\r\n\t\t\tthis.scene.engine.socket.emit('inputState', this.inputState);\r\n\t\t\t// // send stuff socket\r\n\t\t\t// setTimeout(()=>this.scene.engine.socket.emit('inputState', this.inputState), 100);\r\n\t\t\t// // console.log(this.inputState);\r\n\t\t\tthis.sendUpdate = false;\r\n\t\t}\r\n\r\n\t}\r\n\t// Resolves and sets AABB position based on colliding aabb, x-axis displacement, and y axis-displacement\r\n\thandleCollision(aabb, xDisp, yDisp) {\r\n\t\tif (xDisp > yDisp) {\r\n\t\t\tthis.AABB.setPos(this.x - xDisp, this.y)\r\n\t\t\tif (this.AABB.checkCollision(aabb)) {\r\n\t\t\t\tthis.handleYCollision(aabb);\r\n\t\t\t} else {\r\n\t\t\t\tthis.handleXCollision(aabb);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.AABB.setPos(this.x, this.y - yDisp)\r\n\t\t\tif (this.AABB.checkCollision(aabb)) {\r\n\t\t\t\tthis.handleXCollision(aabb);\r\n\t\t\t} else {\r\n\t\t\t\tthis.handleYCollision(aabb);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.AABB.setPos(this.x, this.y);\r\n\t}\r\n\r\n\t// helper function for handleCollision\r\n\thandleYCollision(aabb) {\r\n\t\tif (this.AABB.ifTopCollision(aabb)) {\r\n\t\t\tthis.y = aabb.max.y;\r\n\t\t} else {\r\n\t\t\tthis.y = aabb.min.y - this.AABB.height;\r\n\t\t\tthis.jumpTimer = 0;\r\n\t\t}\r\n\t\tthis.yVel = 0;\r\n\t}\r\n\t// helper function for handleCollision\r\n\thandleXCollision(aabb) {\r\n\t\tif (this.AABB.ifLeftCollision(aabb)) {\r\n\t\t\tthis.x = aabb.max.x;\r\n\t\t} else {\r\n\t\t\tthis.x = aabb.min.x - this.AABB.width;\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(interpolationPercentage) {\r\n        this.scene.engine.context.fillStyle = this.colors[this.state];\r\n        this.scene.engine.context.fillRect(this.AABB.min.x, this.AABB.min.y, this.AABB.width, this.AABB.height);\r\n        this.scene.engine.context.fillStyle = \"black\";\r\n\t\tthis.scene.engine.context.textAlign = \"center\";\r\n        this.scene.engine.context.font = \"30px Comic Sans MS\";\r\n        this.scene.engine.context.fillText(\"THIS IS ME\", this.AABB.min.x + this.AABB.width/2, this.AABB.min.y - 10);\r\n\t}\r\n}\r\n\r\nexport default playerObject;","import { GameObject } from 'mini5-engine';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { default as store } from '../../store/store'\r\nimport { \r\n\tsetPlayerState,\r\n\tsetPlayerPosition,\r\n} from '../../store/reducers/playerStateSlice'\r\nimport {\r\n\tselectCount,\r\n\tincrement,\r\n} from '../../store/reducers/counterSlice'\r\n\r\nclass otherPlayerObject extends GameObject {\r\n\r\n\tconstructor(scene, username, parent) {\r\n\t    super(scene, parent)\r\n\t    this.username = username;\r\n      this.scene = scene;\r\n  \t\tthis.update = this.update.bind(this);\r\n  \t\tthis.draw = this.draw.bind(this);\r\n\r\n  \t\tthis.x = 64;\r\n  \t\tthis.y = 0;\r\n\r\n  \t\tthis.xVel = 10;\r\n  \t\tthis.yVel = 0;\r\n  \t\tthis.gravity = 0.005;\r\n  \t\tthis.jump = -1.5;\r\n  \t\tthis.jumpTimer = 0;\r\n  \t\tthis.AABB = this.createAABB(64, 64, this.x, this.y)\r\n\r\n  \t\tthis.state = 'idle';\r\n  \t\tthis.colors = {\r\n  \t\t\t'jumping': 'red',\r\n  \t\t\t'walking': 'yellow',\r\n  \t\t\t'idle': 'blue',\r\n  \t\t}\r\n      this.gameState = this.parent.gameState[this.username];\r\n\r\n\r\n  \t\tconsole.log('connecting: ' + username);\r\n\t}\r\n\r\n\tupdate(delta) {\r\n        this.gameState = this.parent.gameState[this.username];\r\n        if (!this.gameState.connected) {\r\n        \treturn;\r\n        }\r\n\t\tthis.AABB.setPos(this.gameState.x, this.gameState.y);\r\n\r\n\t}\r\n\r\n\tdraw(interpolationPercentage) {\r\n\t\tconsole.log('drawing?');\r\n        if (!this.gameState.connected) {\r\n        \treturn;\r\n        }\r\n        this.scene.engine.context.fillStyle = this.colors[this.state];\r\n        this.scene.engine.context.fillRect(this.AABB.min.x, this.AABB.min.y, this.AABB.width, this.AABB.height);\r\n        this.scene.engine.context.fillStyle = \"black\";\r\n\t\tthis.scene.engine.context.textAlign = \"center\";\r\n        this.scene.engine.context.font = \"30px Comic Sans MS\";\r\n        this.scene.engine.context.fillText(this.username, this.AABB.min.x + this.AABB.width/2, this.AABB.min.y - 10);\r\n\t}\r\n}\r\n\r\nexport default otherPlayerObject;","import { GameObject } from 'mini5-engine';\r\n\r\nclass bouncingBallObject extends GameObject {\r\n  \r\n\r\n    constructor(scene, color='red') {\r\n        super(scene)\r\n\r\n  \t\tthis.posAABB = this.createAABB(128, 128, 128, 128)\r\n        this.radius = 32;\r\n        this.speed = 0.1;\r\n        this.velocity = 0.1;\r\n        this.direction = 1;\r\n        this.color = color;\r\n        this.target = null;\r\n\r\n        this.gameState = this.parent.gameState['bouncingBall'] = {x: this.posAABB.x, y: this.posAABB.y};\r\n        this.lastUpdate = this.gameState.y;\r\n    }\r\n\r\n  \tupdate(delta) {\r\n        this.gameState = this.parent.gameState['bouncingBall'];\r\n        // this.posAABB.setPos(this.gameState.x, this.gameState.y);\r\n\r\n        if (this.gameState.y == this.lastUpdate) {\r\n            // this.lastY = this.posAABB.canvasPos.y;\r\n            let y = this.posAABB.min.y + this.velocity * delta\r\n            this.posAABB.setPos(this.posAABB.x, y);\r\n\r\n            let canvasPos = this.posAABB.canvasPos;\r\n            if (canvasPos.y > 400 - 64 && this.velocity > 0) {\r\n                this.velocity = -this.velocity;\r\n            } else if (canvasPos.y < 32 && this.velocity < 0) {\r\n                this.velocity = -this.velocity;\r\n            }\r\n        } else {\r\n            console.log('sync!');\r\n            this.lastUpdate = this.gameState.y;\r\n            this.posAABB.setPos(this.gameState.x, this.gameState.y);\r\n        }\r\n    }\r\n\r\n  \tdraw(interpolationPercentage) {\r\n        // Interpolate with the last position to reduce stuttering.\r\n        let canvasPos = this.posAABB.canvasPos\r\n        // var y = this.lastY + (canvasPos.y - this.lastY) * interpolationPercentage;\r\n        this.circle(this.scene.engine.context, canvasPos.x, canvasPos.y);\r\n  \t}\r\n\r\n    circle(context, x, y) {\r\n        context.beginPath();\r\n        context.arc(x, y, this.radius, 0, 2 * Math.PI, false);\r\n        context.fillStyle = this.color;\r\n        context.fill();\r\n        context.lineWidth = 1;\r\n        context.stroke();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default bouncingBallObject;","import { GameObject } from 'mini5-engine';\r\n\r\nclass portalObject extends GameObject {\r\n\r\n\tconstructor(scene, nextScene, width, height, x, y) {\r\n\t    super(scene)\r\n      this.scene = scene;\r\n      this.nextScene = nextScene;\r\n  \t\tthis.update = this.update.bind(this);\r\n  \t\tthis.draw = this.draw.bind(this);\r\n  \t\tthis.AABB = this.createAABB(width, height, x, y, this)\r\n   \t\tthis.clickAABB = this.createAABB(width, height, x, y, this)\r\n  \t\tthis.color = 'yellow';\r\n\t}\r\n\r\n\tupdate(delta) {\r\n        // this.allowClickDetection(this.clickAABB);\r\n\r\n        // if (this.isClicked()) {\r\n        //     this.scene.switchScene(this.nextScene);\r\n        // }\r\n\t}\r\n\r\n\tdraw(interpolationPercentage) {\r\n        this.scene.engine.context.fillStyle = this.color;\r\n        this.scene.engine.context.fillRect(this.AABB.min.x, this.AABB.min.y, this.AABB.width, this.AABB.height);\r\n\t}\r\n\r\n}\r\n\r\nexport default portalObject;","import { GameObject } from 'mini5-engine';\nimport { default as otherPlayerObject } from './otherPlayerObject'\n\nclass playerManagerObject extends GameObject {\n\n\tconstructor(scene) {\n\t    super(scene)\n      \tthis.scene = scene;\n  \t\tthis.update = this.update.bind(this);\n  \t\tthis.draw = this.draw.bind(this);\n\n        this.gameState = this.parent.gameState['playerManager'] = {};\n        this.connectedPlayers = {};\n\t}\n\n\tupdate(delta) {\n\t\tthis.gameState = this.parent.gameState['playerManager']\n\t\tfor (var name in this.gameState) {\n\t\t\t// if (name == this.scene.engine.username) {\n\t\t\t// \tcontinue\n\t\t\t// } else if (name in this.connectedPlayers) {\n\t\t\tif (name in this.connectedPlayers) {\n\t\t\t\tthis.connectedPlayers[name].update(delta);\n\t\t\t} else {\n\t\t\t\tthis.connectedPlayers[name] = new otherPlayerObject(this.scene, name, this);\n\t\t\t}\n\t\t}\n\t}\n\n\tdraw(interpolationPercentage) {\n\t\tfor (var name in this.gameState) {\n\t\t\t// if (name == this.scene.engine.username) {\n\t\t\t// \tcontinue\n\t\t\t// } else if (name in this.connectedPlayers) {\n\t\t\tif (name in this.connectedPlayers) {\n\t\t\t\tthis.connectedPlayers[name].draw(interpolationPercentage);\n\t\t\t}\n\t\t}\n\t}\n\n\t// addPlayer(socket) {\n\t// \tconsole.log(\"adding player object\" + socket.id)\n\t// \tlet username = this.count;\n\t// \tthis.count++;\n\t// \tthis.connectedPlayers.push(new playerObject(this.scene, socket, username, this))\n\t// }\n}\n\nexport default playerManagerObject;","import testScene from './testScene'\r\nimport area01Scene from './area01Scene'\r\nimport area02Scene from './area02Scene'\r\nimport area03Scene from './area03Scene'\r\n\r\nexport default {\r\n\t'testScene': testScene,\r\n\t'area01': area01Scene,\r\n\t'area02': area02Scene,\r\n\t'area03': area03Scene,\r\n}","import { Scene } from 'mini5-engine';\r\n\r\n// import gameObjects\r\nimport { \r\n\tbackgroundObject,\r\n\tblockObject,\r\n\tplayerObject,\r\n\tportalObject,\r\n\tbouncingBallObject,\r\n\tplayerManagerObject\r\n} from '../gameObjects/'\r\n\r\nclass testScene extends Scene {\r\n\r\n\tsetup(args) {\r\n\r\n\t    // instantiate game objects\r\n\t    var background = new backgroundObject(this);\r\n\t    var ground = new blockObject(this, 800*2, 32, -800, 400 - 32);\r\n\t    var floating = new blockObject(this, 800/2, 32, 800/2, 400/2);\r\n\t    // var portalToArea01 = new portalObject(this, 'area01', 80, 100, 700, 100)\r\n\t    var ball = new bouncingBallObject(this, 'blue');\r\n\t    var player = new playerObject(this);\r\n\t    var playerManager = new playerManagerObject(this);\r\n\r\n\t    // create layers\r\n\t    this.layerOrder = ['layer1', 'layer2', 'layer3'];\r\n\t    this.layers = {\r\n\t    \t'layer1': [background],\r\n\t    \t'layer2': [ground, floating, ball],\r\n\t    \t'layer3': [player, playerManager],\r\n\t    }\r\n\r\n\t    // create collision tag lists\r\n\t    this.staticObjects = [ground.AABB, floating.AABB];\r\n\t    this.portalObjects = [];\r\n\r\n\t    // add initial game objects\r\n\t    this.gameObjects = [background, player, ball, playerManager];\r\n\r\n\t}\r\n\r\n\tupdateSocket() {\r\n\t\tthis.engine.socket.on('gamestate', (data) => {\r\n\t\t\tthis.gameState = data;\r\n\t\t\t// console.log(this.gameState);\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default testScene;","import { Scene } from 'mini5-engine';\r\n\r\n// import gameObjects\r\nimport { \r\n\tbackgroundObject,\r\n\tblockObject,\r\n\tplayerObject,\r\n\tportalObject,\r\n\tbouncingBallObject,\r\n\tplayerManagerObject\r\n} from '../gameObjects/'\r\n\r\nclass area01Scene extends Scene {\r\n\r\n\tsetup(args) {\r\n\r\n\t    // instantiate game objects\r\n\t    var background = new backgroundObject(this);\r\n\t    var ground = new blockObject(this, 800*2, 32, -800, 400 - 32);\r\n\t    var floating = new blockObject(this, 800/2, 32, 800/2, 400/2);\r\n\t    // var portalToArea01 = new portalObject(this, 'area01', 80, 100, 700, 100)\r\n\t    var ball = new bouncingBallObject(this, 'blue');\r\n\t    var player = new playerObject(this);\r\n\t    var playerManager = new playerManagerObject(this);\r\n\r\n\t    // create layers\r\n\t    this.layerOrder = ['layer1', 'layer2', 'layer3'];\r\n\t    this.layers = {\r\n\t    \t'layer1': [background],\r\n\t    \t'layer2': [ground, floating, ball],\r\n\t    \t'layer3': [player, playerManager],\r\n\t    }\r\n\r\n\t    // create collision tag lists\r\n\t    this.staticObjects = [ground.AABB, floating.AABB];\r\n\t    this.portalObjects = [];\r\n\r\n\t    // add initial game objects\r\n\t    this.gameObjects = [background, player, ball, playerManager];\r\n\r\n\t}\r\n\r\n\tupdateSocket() {\r\n\t\tthis.engine.socket.on('gamestate', (data) => {\r\n\t\t\tthis.gameState = data;\r\n\t\t\t// console.log(this.gameState);\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default area01Scene;","import { Scene } from 'mini5-engine';\r\n\r\n// import gameObjects\r\nimport { \r\n\tbackgroundObject,\r\n\tblockObject,\r\n\tplayerObject,\r\n\tportalObject,\r\n\tbouncingBallObject,\r\n\tplayerManagerObject\r\n} from '../gameObjects/'\r\n\r\nclass testScene extends Scene {\r\n\r\n\tsetup(args) {\r\n\r\n\t    // instantiate game objects\r\n\t    var background = new backgroundObject(this);\r\n\t    var ground = new blockObject(this, 800*2, 32, -800, 400 - 32);\r\n\t    var floating = new blockObject(this, 800/4, 32, 800/2, 400/2);\r\n\t    // var portalToArea01 = new portalObject(this, 'area01', 80, 100, 700, 100)\r\n\t    var ball = new bouncingBallObject(this, 'blue');\r\n\t    var player = new playerObject(this);\r\n\t    var playerManager = new playerManagerObject(this);\r\n\r\n\t    // create layers\r\n\t    this.layerOrder = ['layer1', 'layer2', 'layer3'];\r\n\t    this.layers = {\r\n\t    \t'layer1': [background],\r\n\t    \t'layer2': [ground, floating, ball],\r\n\t    \t'layer3': [player, playerManager],\r\n\t    }\r\n\r\n\t    // create collision tag lists\r\n\t    this.staticObjects = [ground.AABB, floating.AABB];\r\n\t    this.portalObjects = [];\r\n\r\n\t    // add initial game objects\r\n\t    this.gameObjects = [background, player, ball, playerManager];\r\n\r\n\t}\r\n\r\n\tupdateSocket() {\r\n\t\tthis.engine.socket.on('gamestate', (data) => {\r\n\t\t\tthis.gameState = data;\r\n\t\t\t// console.log(this.gameState);\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default testScene;","import { Scene } from 'mini5-engine';\r\n\r\n// import gameObjects\r\nimport { \r\n\tbackgroundObject,\r\n\tblockObject,\r\n\tplayerObject,\r\n\tportalObject,\r\n\tbouncingBallObject,\r\n\tplayerManagerObject\r\n} from '../gameObjects/'\r\n\r\nclass testScene extends Scene {\r\n\r\n\tsetup(args) {\r\n\r\n\t    // instantiate game objects\r\n\t    var background = new backgroundObject(this);\r\n\t    var ground = new blockObject(this, 800*2, 32, -800, 400 - 32);\r\n\t    var floating = new blockObject(this, 800/4, 32, 800/4, 400/2);\r\n\t    // var portalToArea01 = new portalObject(this, 'area01', 80, 100, 700, 100)\r\n\t    var ball = new bouncingBallObject(this, 'blue');\r\n\t    var player = new playerObject(this);\r\n\t    var playerManager = new playerManagerObject(this);\r\n\r\n\t    // create layers\r\n\t    this.layerOrder = ['layer1', 'layer2', 'layer3'];\r\n\t    this.layers = {\r\n\t    \t'layer1': [background],\r\n\t    \t'layer2': [ground, floating, ball],\r\n\t    \t'layer3': [player, playerManager],\r\n\t    }\r\n\r\n\t    // create collision tag lists\r\n\t    this.staticObjects = [ground.AABB, floating.AABB];\r\n\t    this.portalObjects = [];\r\n\r\n\t    // add initial game objects\r\n\t    this.gameObjects = [background, player, ball, playerManager];\r\n\r\n\t}\r\n\r\n\tupdateSocket() {\r\n\t\tthis.engine.socket.on('gamestate', (data) => {\r\n\t\t\tthis.gameState = data;\r\n\t\t\t// console.log(this.gameState);\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default testScene;","import { Engine } from 'mini5-engine';\r\nimport SceneList from './scenes/index'\r\n\r\nvar game = new Engine(SceneList, 'area03', {});\r\n\r\nexport default game;\r\n// game.start();","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './ui/App';\nimport './ui/index.css';\nimport store from './store/store';\nimport { Provider } from 'react-redux';\nimport io from 'socket.io-client';\nimport Game from './game/main'\n// import { Engine, Scene, GameObject } from 'mini5-engine';\n\nvar username = prompt(\"Please enter your name\", \"Harry Potter\");\n\n// returns socket object\nasync function setup_websocket() {\n  let response = await fetch('http://localhost:8081/gameserver?scene=area03');\n  let data = await response.json();\n\n  // let socket = await io('http://localhost:8080', {query:'name=' + username});\n  // console.log(socket);\n  // var socket = io(window.location.origin, {\n  //   path: window.location.pathname + 'socket.io',\n  //   query:\"name=\" + username,\n  // });\n\n  console.log(data.pathname)\n  let socket = await io(data.origin, {\n    path: data.pathname,\n    query:\"name=\" + username,\n  });\n\n  socket.on('connect', () => {\n    console.log(this);\n    // console.log(socket.connected); // true\n  });\n\n  socket.on('heartbeat', (data) => {\n    console.log(data);\n  });\n\n  // return socket\n\n  Game.username = username;\n  Game.addSocket(socket);\n  Game.start();\n}\nvar socket = setup_websocket()\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    \t<App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// Game.username = username;\n// Game.addSocket(socket);\n// Game.start();"],"sourceRoot":""}